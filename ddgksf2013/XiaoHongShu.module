#!name= Keep å‡€åŒ–
#!desc= åº”ç”¨å‡€åŒ–å»å¹¿å‘Š
#!homepage= https://github.com/ddgksf2013
#!author= ddgksf2013
#!url= https://raw.githubusercontent.com/ddgksf2013/Rewrite/master/AdBlock/KeepStyle.conf

// ==UserScript==
// @ScriptName        å°çº¢ä¹¦å»å¹¿å‘Š
// @Author            @ddgksf2013
// @ForHelp           è‹¥æœ‰å±è”½å¹¿å‘Šçš„éœ€æ±‚ï¼Œå¯å…¬ä¼—å·åå°å›å¤APPåç§°
// @WechatID          å…¬ä¼—å·å¢¨é±¼æ‰‹è®°
// @TgChannel         https://t.me/ddgksf2021
// @Contribute        https://t.me/ddgksf2013_bot
// @MainFunction      å»å¼€å±ã€ç€‘å¸ƒæµã€å¯åŠ¨æœåŠ¡å¹¿å‘ŠåŠä¸€äº›éšç§ã€å¹¿å‘Šã€é’å°‘å¹´è¯·æ±‚ï¼Œå»æ°´å°åŠåŠŸèƒ½å¢å¼º
// @Feedback          ğŸ“® ddgksf2013@163.com ğŸ“®
// @UpdateTime        2023-06-08
// @Function          å»å¹¿å‘Šé…ç½®ï¼ˆè‡ªç”¨ï¼Œä¸å®šæœŸæ›´æ–°ï¼‰
// @Suitable          è‡ªè¡Œè§‚çœ‹â€œ# > â€æ³¨é‡Šå†…å®¹
// @Attention         å¦‚éœ€å¼•ç”¨è¯·æ³¨æ˜å‡ºå¤„ï¼Œè°¢è°¢åˆä½œï¼
// @ScriptURL         https://github.com/ddgksf2013/Rewrite/raw/master/AdBlock/XiaoHongShu.conf
// ==/UserScript==

[URL Rewrite]
# > å°çº¢ä¹¦_é€šç”¨å¹¿å‘Šè¯·æ±‚@ddgksf2013
^https?:\/\/www\.xiaohongshu\.com\/api\/sns\/v\d\/(tag\/)?ads _ reject-dict
# > å°çº¢ä¹¦_éšç§å±è”½@ddgksf2013
^https?:\/\/referee\.xiaohongshu\.com\/v\d\/stateReport _ reject-dict
# > å°çº¢ä¹¦_Switches@ddgksf2013
^https?:\/\/pages\.xiaohongshu\.com\/data\/native\/matrix_switches _ reject-dict
# > å°çº¢ä¹¦_é’å°‘å¹´è¯·æ±‚@ddgksf2013
^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/user\/teenager\/status _ reject-dict
# > å°çº¢ä¹¦_å¯åŠ¨å¼•å¯¼@ddgksf2013
^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/guide\/home_guide _ reject-dict

[Script]
# > å°çº¢ä¹¦_è§†é¢‘æ’­æ”¾é¡µå•†å“æ¨å¹¿@ddgksf2013
å°çº¢ä¹¦_è§†é¢‘æ’­æ”¾é¡µå•†å“æ¨å¹¿ = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/note\/widgets,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_çŸ­è§†é¢‘æµå»æ°´å°+å¼ºåˆ¶å¼€å¯ä¿å­˜åŠŸèƒ½@ddgksf2013
å°çº¢ä¹¦_çŸ­è§†é¢‘æµå»æ°´å° = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/note\/redtube\?,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_ä¿¡æ¯æµè§†é¢‘å»æ°´å°+å¼ºåˆ¶å¼€å¯ä¿å­˜åŠŸèƒ½@ddgksf2013
å°çº¢ä¹¦_ä¿¡æ¯æµè§†é¢‘å»æ°´å° = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/note\/videofeed\?,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_ä¿¡æ¯æµå›¾ç‰‡å»æ°´å°@ddgksf2013
å°çº¢ä¹¦_ä¿¡æ¯æµå›¾ç‰‡å»æ°´å° = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/note\/feed\?,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_å¼€å±å¹¿å‘Š@ddgksf2013
å°çº¢ä¹¦_å¼€å±å¹¿å‘Š = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/system_service\/splash_config,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_é¦–é¡µç€‘å¸ƒæµ@ddgksf2013
å°çº¢ä¹¦_é¦–é¡µç€‘å¸ƒæµ = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/homefeed\?,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_å¯åŠ¨å¤„ç†@ddgksf2013
å°çº¢ä¹¦_å¯åŠ¨å¤„ç† = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/system_service\/config\?,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_çƒ­æœå‘ç°@ddgksf2013
å°çº¢ä¹¦_çƒ­æœå‘ç° = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/search\/hot_list,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_é»˜è®¤å¡«è¯@ddgksf2013
å°çº¢ä¹¦_é»˜è®¤å¡«è¯ = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/search\/hint,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_å»é™¤è´­ç‰©@ddgksf2013
å°çº¢ä¹¦_å»é™¤è´­ç‰© = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/homefeed\/categories,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

# > å°çº¢ä¹¦_çŒœä½ æƒ³æœ@ddgksf2013
å°çº¢ä¹¦_çŒœä½ æƒ³æœ = type=http-response,script-path=https://github.com/ddgksf2013/Scripts/raw/master/redbook_json.js,pattern=^https?:\/\/edith\.xiaohongshu\.com\/api\/sns\/v\d\/search\/trending,max-size=0,requires-body=true,timeout=10,script-update-interval=86400,enable=true

[MITM]
hostname = %APPEND% edith.xiaohongshu.com, www.xiaohongshu.com, pages.xiaohongshu.com, referee.xiaohongshu.com